<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>djangorestframework.mixins &mdash; obp 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="obp 0.0.1 documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">obp 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for djangorestframework.mixins</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The :mod:`mixins` module provides a set of reusable `mixin` </span>
<span class="sd">classes that can be added to a `View`.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AnonymousUser</span>
<span class="kn">from</span> <span class="nn">django.db.models.query</span> <span class="kn">import</span> <span class="n">QuerySet</span>
<span class="kn">from</span> <span class="nn">django.db.models.fields.related</span> <span class="kn">import</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="kn">from</span> <span class="nn">djangorestframework</span> <span class="kn">import</span> <span class="n">status</span>
<span class="kn">from</span> <span class="nn">djangorestframework.parsers</span> <span class="kn">import</span> <span class="n">FormParser</span><span class="p">,</span> <span class="n">MultiPartParser</span>
<span class="kn">from</span> <span class="nn">djangorestframework.renderers</span> <span class="kn">import</span> <span class="n">BaseRenderer</span>
<span class="kn">from</span> <span class="nn">djangorestframework.resources</span> <span class="kn">import</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">FormResource</span><span class="p">,</span> <span class="n">ModelResource</span>
<span class="kn">from</span> <span class="nn">djangorestframework.response</span> <span class="kn">import</span> <span class="n">Response</span><span class="p">,</span> <span class="n">ErrorResponse</span>
<span class="kn">from</span> <span class="nn">djangorestframework.utils</span> <span class="kn">import</span> <span class="n">as_tuple</span><span class="p">,</span> <span class="n">MSIE_USER_AGENT_REGEX</span>
<span class="kn">from</span> <span class="nn">djangorestframework.utils.mediatypes</span> <span class="kn">import</span> <span class="n">is_form_media_type</span><span class="p">,</span> <span class="n">order_by_precedence</span>

<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span>
    <span class="c"># Base behavior mixins</span>
    <span class="s">&#39;RequestMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;ResponseMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;AuthMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;ResourceMixin&#39;</span><span class="p">,</span>
    <span class="c"># Reverse URL lookup behavior</span>
    <span class="s">&#39;InstanceMixin&#39;</span><span class="p">,</span>
    <span class="c"># Model behavior mixins</span>
    <span class="s">&#39;ReadModelMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;CreateModelMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;UpdateModelMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;DeleteModelMixin&#39;</span><span class="p">,</span>
    <span class="s">&#39;ListModelMixin&#39;</span>
<span class="p">)</span>


<span class="c">########## Request Mixin ##########</span>

<div class="viewcode-block" id="RequestMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.RequestMixin">[docs]</a><span class="k">class</span> <span class="nc">RequestMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `Mixin` class to provide request parsing behavior.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_USE_FORM_OVERLOADING</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">_METHOD_PARAM</span> <span class="o">=</span> <span class="s">&#39;_method&#39;</span>
    <span class="n">_CONTENTTYPE_PARAM</span> <span class="o">=</span> <span class="s">&#39;_content_type&#39;</span>
    <span class="n">_CONTENT_PARAM</span> <span class="o">=</span> <span class="s">&#39;_content&#39;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The set of request parsers that the view can handle.</span>
<span class="sd">    </span>
<span class="sd">    Should be a tuple/list of classes as described in the :mod:`parsers` module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parsers</span> <span class="o">=</span> <span class="p">()</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="RequestMixin.method"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.RequestMixin.method">[docs]</a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the HTTP method.</span>

<span class="sd">        This should be used instead of just reading :const:`request.method`, as it allows the `method`</span>
<span class="sd">        to be overridden by using a hidden `form` field on a form POST request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_method&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_method_and_content_type</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span>

</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RequestMixin.content_type"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.RequestMixin.content_type">[docs]</a>    <span class="k">def</span> <span class="nf">content_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the content type header.</span>

<span class="sd">        This should be used instead of ``request.META.get(&#39;HTTP_CONTENT_TYPE&#39;)``,</span>
<span class="sd">        as it allows the content type to be overridden by using a hidden form</span>
<span class="sd">        field on a form POST request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_content_type&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_method_and_content_type</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span>

</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RequestMixin.DATA"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.RequestMixin.DATA">[docs]</a>    <span class="k">def</span> <span class="nf">DATA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses the request body and returns the data.</span>

<span class="sd">        Similar to ``request.POST``, except that it handles arbitrary parsers,</span>
<span class="sd">        and also works on methods other than POST (eg PUT).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_data&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_data_and_files</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span>

</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="RequestMixin.FILES"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.RequestMixin.FILES">[docs]</a>    <span class="k">def</span> <span class="nf">FILES</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses the request body and returns the files.</span>
<span class="sd">        Similar to ``request.FILES``, except that it handles arbitrary parsers,</span>
<span class="sd">        and also works on methods other than POST (eg PUT).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_files&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_data_and_files</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_files</span>

</div>
    <span class="k">def</span> <span class="nf">_load_data_and_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse the request content into self.DATA and self.FILES.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_content_type&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_load_method_and_content_type</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_data&#39;</span><span class="p">):</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_files</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_stream</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_load_method_and_content_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the method and content_type, and then check if they&#39;ve been overridden.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;HTTP_CONTENT_TYPE&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CONTENT_TYPE&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_perform_form_overloading</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">_get_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an object that may be used to stream the request content.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">content_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;CONTENT_LENGTH&#39;</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;HTTP_CONTENT_LENGTH&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">content_length</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c"># TODO: Add 1.3&#39;s LimitedStream to compat and use that.</span>
        <span class="c"># NOTE: Currently only supports parsing request body as a stream with 1.3</span>
        <span class="k">if</span> <span class="n">content_length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;read&#39;</span><span class="p">):</span>
             <span class="k">return</span> <span class="n">request</span>
        <span class="k">return</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">raw_post_data</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_perform_form_overloading</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If this is a form POST request, then we need to check if the method and content/content_type have been</span>
<span class="sd">        overridden by setting them in hidden form fields or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c"># We only need to use form overloading on form POST requests.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_USE_FORM_OVERLOADING</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">!=</span> <span class="s">&#39;POST&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">is_form_media_type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span><span class="p">):</span>
            <span class="k">return</span>
        
        <span class="c"># At this point we&#39;re committed to parsing the request as form data.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">FILES</span>

        <span class="c"># Method overloading - change the method and remove the param from the content.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_METHOD_PARAM</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="c"># NOTE: unlike `get`, `pop` on a `QueryDict` seems to return a list of values.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_METHOD_PARAM</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

        <span class="c"># Content overloading - modify the content type, and re-parse.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CONTENT_PARAM</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_CONTENTTYPE_PARAM</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_CONTENTTYPE_PARAM</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">stream</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_CONTENT_PARAM</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_files</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content_type</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">,</span> <span class="n">content_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse the request content.</span>

<span class="sd">        May raise a 415 ErrorResponse (Unsupported Media Type), or a 400 ErrorResponse (Bad Request).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">content_type</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="n">parsers</span> <span class="o">=</span> <span class="n">as_tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsers</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">parser_cls</span> <span class="ow">in</span> <span class="n">parsers</span><span class="p">:</span>
            <span class="n">parser</span> <span class="o">=</span> <span class="n">parser_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">parser</span><span class="o">.</span><span class="n">can_handle_request</span><span class="p">(</span><span class="n">content_type</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

        <span class="k">raise</span> <span class="n">ErrorResponse</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_415_UNSUPPORTED_MEDIA_TYPE</span><span class="p">,</span>
                            <span class="p">{</span><span class="s">&#39;error&#39;</span><span class="p">:</span> <span class="s">&#39;Unsupported media type in request </span><span class="se">\&#39;</span><span class="si">%s</span><span class="se">\&#39;</span><span class="s">.&#39;</span> <span class="o">%</span>
                            <span class="n">content_type</span><span class="p">})</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_parsed_media_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the media types that this view can parse.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">parser</span><span class="o">.</span><span class="n">media_type</span> <span class="k">for</span> <span class="n">parser</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsers</span><span class="p">]</span>

    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the view&#39;s default parser class.</span>
<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>



<span class="c">########## ResponseMixin ##########</span>
</div>
<div class="viewcode-block" id="ResponseMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResponseMixin">[docs]</a><span class="k">class</span> <span class="nc">ResponseMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds behavior for pluggable `Renderers` to a :class:`views.View` class.</span>
<span class="sd">    </span>
<span class="sd">    Default behavior is to use standard HTTP Accept header content negotiation.</span>
<span class="sd">    Also supports overriding the content type by specifying an ``_accept=`` parameter in the URL.</span>
<span class="sd">    Ignores Accept headers from Internet Explorer user agents and uses a sensible browser Accept header instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_ACCEPT_QUERY_PARAM</span> <span class="o">=</span> <span class="s">&#39;_accept&#39;</span>        <span class="c"># Allow override of Accept header in URL query params</span>
    <span class="n">_IGNORE_IE_ACCEPT_HEADER</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The set of response renderers that the view can handle.</span>
<span class="sd">    </span>
<span class="sd">    Should be a tuple/list of classes as described in the :mod:`renderers` module.    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">renderers</span> <span class="o">=</span> <span class="p">()</span>


    <span class="c"># TODO: wrap this behavior around dispatch(), ensuring it works</span>
    <span class="c"># out of the box with existing Django classes that use render_to_response.</span>
<div class="viewcode-block" id="ResponseMixin.render"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResponseMixin.render">[docs]</a>    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a :obj:`Response` object and returns an :obj:`HttpResponse`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">response</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">renderer</span><span class="p">,</span> <span class="n">media_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_determine_renderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ErrorResponse</span><span class="p">,</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">renderer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_renderer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">media_type</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">media_type</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">response</span>

        <span class="c"># Set the media type of the response</span>
        <span class="c"># Note that the renderer *could* override it in .render() if required.</span>
        <span class="n">response</span><span class="o">.</span><span class="n">media_type</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">media_type</span>
        
        <span class="c"># Serialize the response content</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_content_body</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">cleaned_content</span><span class="p">,</span> <span class="n">media_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

        <span class="c"># Build the HTTP Response</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">media_type</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">resp</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

        <span class="k">return</span> <span class="n">resp</span>

</div>
    <span class="k">def</span> <span class="nf">_determine_renderer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines the appropriate renderer for the output, given the client&#39;s &#39;Accept&#39; header,</span>
<span class="sd">        and the :attr:`renderers` set on this class.</span>

<span class="sd">        Returns a 2-tuple of `(renderer, media_type)`</span>

<span class="sd">        See: RFC 2616, Section 14 - http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ACCEPT_QUERY_PARAM</span> <span class="ow">and</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ACCEPT_QUERY_PARAM</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="c"># Use _accept parameter override</span>
            <span class="n">accept_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ACCEPT_QUERY_PARAM</span><span class="p">)]</span>
        <span class="k">elif</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IGNORE_IE_ACCEPT_HEADER</span> <span class="ow">and</span>
              <span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s">&#39;HTTP_USER_AGENT&#39;</span><span class="p">)</span> <span class="ow">and</span>
              <span class="n">MSIE_USER_AGENT_REGEX</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="p">[</span><span class="s">&#39;HTTP_USER_AGENT&#39;</span><span class="p">])):</span>
            <span class="c"># Ignore MSIE&#39;s broken accept behavior and do something sensible instead</span>
            <span class="n">accept_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html&#39;</span><span class="p">,</span> <span class="s">&#39;*/*&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s">&#39;HTTP_ACCEPT&#39;</span><span class="p">):</span>
            <span class="c"># Use standard HTTP Accept negotiation</span>
            <span class="n">accept_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="p">[</span><span class="s">&quot;HTTP_ACCEPT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># No accept header specified</span>
            <span class="n">accept_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*/*&#39;</span><span class="p">]</span>

        <span class="c"># Check the acceptable media types against each renderer,</span>
        <span class="c"># attempting more specific media types first</span>
        <span class="c"># NB. The inner loop here isn&#39;t as bad as it first looks :)</span>
        <span class="c">#     Worst case is we&#39;re looping over len(accept_list) * len(self.renderers)</span>
        <span class="n">renderers</span> <span class="o">=</span> <span class="p">[</span><span class="n">renderer_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">renderer_cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renderers</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">accepted_media_type_lst</span> <span class="ow">in</span> <span class="n">order_by_precedence</span><span class="p">(</span><span class="n">accept_list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">renderer</span> <span class="ow">in</span> <span class="n">renderers</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">accepted_media_type</span> <span class="ow">in</span> <span class="n">accepted_media_type_lst</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">renderer</span><span class="o">.</span><span class="n">can_handle_response</span><span class="p">(</span><span class="n">accepted_media_type</span><span class="p">):</span>
                        <span class="k">return</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">accepted_media_type</span>

        <span class="c"># No acceptable renderers were found</span>
        <span class="k">raise</span> <span class="n">ErrorResponse</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_406_NOT_ACCEPTABLE</span><span class="p">,</span>
                                <span class="p">{</span><span class="s">&#39;detail&#39;</span><span class="p">:</span> <span class="s">&#39;Could not satisfy the client</span><span class="se">\&#39;</span><span class="s">s Accept header&#39;</span><span class="p">,</span>
                                 <span class="s">&#39;available_types&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rendered_media_types</span><span class="p">})</span>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_rendered_media_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an list of all the media types that this view can render.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">renderer</span><span class="o">.</span><span class="n">media_type</span> <span class="k">for</span> <span class="n">renderer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renderers</span><span class="p">]</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_rendered_formats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of all the formats that this view can render.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">renderer</span><span class="o">.</span><span class="n">format</span> <span class="k">for</span> <span class="n">renderer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">renderers</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_renderer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the view&#39;s default renderer class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">renderers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="c">########## Auth Mixin ##########</span>
</div>
<div class="viewcode-block" id="AuthMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.AuthMixin">[docs]</a><span class="k">class</span> <span class="nc">AuthMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple :class:`mixin` class to add authentication and permission checking to a :class:`View` class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The set of authentication types that this view can handle.</span>
<span class="sd">   </span>
<span class="sd">    Should be a tuple/list of classes as described in the :mod:`authentication` module.    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">authentication</span> <span class="o">=</span> <span class="p">()</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The set of permissions that will be enforced on this view.</span>
<span class="sd">    </span>
<span class="sd">    Should be a tuple/list of classes as described in the :mod:`permissions` module.    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">permissions</span> <span class="o">=</span> <span class="p">()</span>


    <span class="nd">@property</span>
<div class="viewcode-block" id="AuthMixin.user"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.AuthMixin.user">[docs]</a>    <span class="k">def</span> <span class="nf">user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the :obj:`user` for the current request, as determined by the set of</span>
<span class="sd">        :class:`authentication` classes applied to the :class:`View`.  </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_user&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user</span>

</div>
    <span class="k">def</span> <span class="nf">_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attempt to authenticate the request using each authentication class in turn.</span>
<span class="sd">        Returns a ``User`` object, which may be ``AnonymousUser``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">authentication_cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">authentication</span><span class="p">:</span>
            <span class="n">authentication</span> <span class="o">=</span> <span class="n">authentication_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">authentication</span><span class="o">.</span><span class="n">authenticate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">user</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">user</span>
        <span class="k">return</span> <span class="n">AnonymousUser</span><span class="p">()</span>


    <span class="c"># TODO: wrap this behavior around dispatch()</span>
    <span class="k">def</span> <span class="nf">_check_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check user permissions and either raise an ``ErrorResponse`` or return.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span>
        <span class="k">for</span> <span class="n">permission_cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">permissions</span><span class="p">:</span>
            <span class="n">permission</span> <span class="o">=</span> <span class="n">permission_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">permission</span><span class="o">.</span><span class="n">check_permission</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>


<span class="c">########## Resource Mixin ##########</span>
</div>
<div class="viewcode-block" id="ResourceMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin">[docs]</a><span class="k">class</span> <span class="nc">ResourceMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provides request validation and response filtering behavior.</span>

<span class="sd">    Should be a class as described in the :mod:`resources` module.</span>

<span class="sd">    The :obj:`resource` is an object that maps a view onto it&#39;s representation on the server.</span>

<span class="sd">    It provides validation on the content of incoming requests,</span>
<span class="sd">    and filters the object representation into a serializable object for the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="nd">@property</span>
<div class="viewcode-block" id="ResourceMixin.CONTENT"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin.CONTENT">[docs]</a>    <span class="k">def</span> <span class="nf">CONTENT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cleaned, validated request content.</span>

<span class="sd">        May raise an :class:`response.ErrorResponse` with status code 400 (Bad Request).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;_content&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DATA</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">FILES</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ResourceMixin.PARAMS"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin.PARAMS">[docs]</a>    <span class="k">def</span> <span class="nf">PARAMS</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the cleaned, validated query parameters.</span>

<span class="sd">        May raise an :class:`response.ErrorResponse` with status code 400 (Bad Request).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;model&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ModelResource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;form&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">FormResource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">_form&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="bp">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">FormResource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Resource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="ResourceMixin.validate_request"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin.validate_request">[docs]</a>    <span class="k">def</span> <span class="nf">validate_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given the request *data* and optional *files*, return the cleaned, validated content.</span>
<span class="sd">        May raise an :class:`response.ErrorResponse` with status code 400 (Bad Request) on failure.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resource</span><span class="o">.</span><span class="n">validate_request</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">files</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ResourceMixin.filter_response"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin.filter_response">[docs]</a>    <span class="k">def</span> <span class="nf">filter_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given the response content, filter it into a serializable object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resource</span><span class="o">.</span><span class="n">filter_response</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ResourceMixin.get_bound_form"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ResourceMixin.get_bound_form">[docs]</a>    <span class="k">def</span> <span class="nf">get_bound_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resource</span><span class="o">.</span><span class="n">get_bound_form</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>



<span class="c">##########</span>
</div></div>
<div class="viewcode-block" id="InstanceMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.InstanceMixin">[docs]</a><span class="k">class</span> <span class="nc">InstanceMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `Mixin` class that is used to identify a `View` class as being the canonical identifier</span>
<span class="sd">    for the resources it is mapped to.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="InstanceMixin.as_view"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.InstanceMixin.as_view">[docs]</a>    <span class="k">def</span> <span class="nf">as_view</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">initkwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Store the callable object on the resource class that has been associated with this view.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">view</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">InstanceMixin</span><span class="p">,</span> <span class="n">cls</span><span class="p">)</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="o">**</span><span class="n">initkwargs</span><span class="p">)</span>
        <span class="n">resource</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">cls</span><span class="p">(</span><span class="o">**</span><span class="n">initkwargs</span><span class="p">),</span> <span class="s">&#39;resource&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resource</span><span class="p">:</span>
            <span class="c"># We do a little dance when we store the view callable...</span>
            <span class="c"># we need to store it wrapped in a 1-tuple, so that inspect will treat it</span>
            <span class="c"># as a function when we later look it up (rather than turning it into a method).</span>
            <span class="c"># This makes sure our URL reversing works ok.</span>
            <span class="n">resource</span><span class="o">.</span><span class="n">view_callable</span> <span class="o">=</span> <span class="p">(</span><span class="n">view</span><span class="p">,)</span>
        <span class="k">return</span> <span class="n">view</span>


<span class="c">########## Model Mixins ##########</span>
</div></div>
<div class="viewcode-block" id="ReadModelMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ReadModelMixin">[docs]</a><span class="k">class</span> <span class="nc">ReadModelMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Behavior to read a `model` instance on GET requests</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="ReadModelMixin.get"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ReadModelMixin.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">model</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="c"># If we have any none kwargs then assume the last represents the primrary key</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># Otherwise assume the kwargs uniquely identify the model</span>
                <span class="n">filtered_keywords</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">BaseRenderer</span><span class="o">.</span><span class="n">_FORMAT_QUERY_PARAM</span> <span class="ow">in</span> <span class="n">filtered_keywords</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">filtered_keywords</span><span class="p">[</span><span class="n">BaseRenderer</span><span class="o">.</span><span class="n">_FORMAT_QUERY_PARAM</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">filtered_keywords</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ErrorResponse</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_404_NOT_FOUND</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span>

</div></div>
<div class="viewcode-block" id="CreateModelMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.CreateModelMixin">[docs]</a><span class="k">class</span> <span class="nc">CreateModelMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Behavior to create a `model` instance on POST requests</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="CreateModelMixin.post"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.CreateModelMixin.post">[docs]</a>    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">model</span>

        <span class="c"># Copy the dict to keep self.CONTENT intact</span>
        <span class="n">content</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CONTENT</span><span class="p">)</span>
        <span class="n">m2m_data</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">)</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
                <span class="c"># translate &#39;related_field&#39; kwargs into &#39;related_field_id&#39;</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s">&#39;_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
                <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">many_to_many</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
                <span class="n">m2m_data</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">field</span><span class="o">.</span><span class="n">m2m_reverse_field_name</span><span class="p">(),</span> <span class="n">content</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">del</span> <span class="n">content</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

        <span class="n">all_kw_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">all_kw_args</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="n">all_kw_args</span><span class="p">)</span>
        <span class="n">instance</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">fieldname</span> <span class="ow">in</span> <span class="n">m2m_data</span><span class="p">:</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">fieldname</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span> <span class="s">&#39;add&#39;</span><span class="p">):</span>
                <span class="n">manager</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="o">*</span><span class="n">m2m_data</span><span class="p">[</span><span class="n">fieldname</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">data</span><span class="p">[</span><span class="n">manager</span><span class="o">.</span><span class="n">source_field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">instance</span>
                
                <span class="k">for</span> <span class="n">related_item</span> <span class="ow">in</span> <span class="n">m2m_data</span><span class="p">[</span><span class="n">fieldname</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">m2m_data</span><span class="p">[</span><span class="n">fieldname</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">related_item</span>
                    <span class="n">manager</span><span class="o">.</span><span class="n">through</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="s">&#39;get_absolute_url&#39;</span><span class="p">):</span>
            <span class="n">headers</span><span class="p">[</span><span class="s">&#39;Location&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="UpdateModelMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.UpdateModelMixin">[docs]</a><span class="k">class</span> <span class="nc">UpdateModelMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Behavior to update a `model` instance on PUT requests</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="UpdateModelMixin.put"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.UpdateModelMixin.put">[docs]</a>    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">model</span>
        
        <span class="c"># TODO: update on the url of a non-existing resource url doesn&#39;t work correctly at the moment - will end up with a new url </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="c"># If we have any none kwargs then assume the last represents the primrary key</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># Otherwise assume the kwargs uniquely identify the model</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CONTENT</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">CONTENT</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_instance</span>

</div></div>
<div class="viewcode-block" id="DeleteModelMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.DeleteModelMixin">[docs]</a><span class="k">class</span> <span class="nc">DeleteModelMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Behavior to delete a `model` instance on DELETE requests</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="DeleteModelMixin.delete"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.DeleteModelMixin.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">model</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                <span class="c"># If we have any none kwargs then assume the last represents the primrary key</span>
                <span class="n">instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c"># Otherwise assume the kwargs uniquely identify the model</span>
                <span class="n">instance</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">model</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ErrorResponse</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_404_NOT_FOUND</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>

        <span class="n">instance</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="k">return</span>

</div></div>
<div class="viewcode-block" id="ListModelMixin"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ListModelMixin">[docs]</a><span class="k">class</span> <span class="nc">ListModelMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Behavior to list a set of `model` instances on GET requests</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c"># NB. Not obvious to me if it would be better to set this on the resource?</span>
    <span class="c">#</span>
    <span class="c"># Presumably it&#39;s more useful to have on the view, because that way you can</span>
    <span class="c"># have multiple views across different querysets mapping to the same resource.</span>
    <span class="c">#</span>
    <span class="c"># Perhaps it ought to be:</span>
    <span class="c">#</span>
    <span class="c"># 1) View.queryset</span>
    <span class="c"># 2) if None fall back to Resource.queryset</span>
    <span class="c"># 3) if None fall back to Resource.model.objects.all()</span>
    <span class="c">#</span>
    <span class="c"># Any feedback welcomed.</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="bp">None</span>

<div class="viewcode-block" id="ListModelMixin.get"><a class="viewcode-back" href="../../auto_modules.html#djangorestframework.mixins.ListModelMixin.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">model</span>

        <span class="n">queryset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queryset</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">queryset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;resource&#39;</span><span class="p">):</span>
            <span class="n">ordering</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource</span><span class="p">,</span> <span class="s">&#39;ordering&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ordering</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">ordering</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">as_tuple</span><span class="p">(</span><span class="n">ordering</span><span class="p">)</span>
            <span class="n">queryset</span> <span class="o">=</span> <span class="n">queryset</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">queryset</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">obp 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, jonas ohrstrom.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>