{% load sekizai_tags verbatim i18n %}

{% addtoblock "js-post" %}<script type="text/javascript" src="{{ STATIC_URL }}alibrary/js/playlist.js"></script>{% endaddtoblock %}
{% addtoblock "js-post" %}
<script>
	$(function(){

		var alibrary = alibrary || {};
		alibrary.playlist = new PlaylistUi();;
		alibrary.playlist.api_url = "{% url api_dispatch_list resource_name='playlist' api_name='v1'%}";
		alibrary.playlist.init();
		
	});
</script>

<!-- moustache templates -->
{% verbatim %}
<script id="tpl_playlists_inline" type="text/html">
	
	<div id="playlist_holder_{{ object.id }}" data-object_id="{{ object.id }}" class="playlist_holder " data-updated="{{ object.updated }}">

		<div class="header">

			<div class="right">
				<a href="#393" title="Remove" data-action="delete" class="action delete"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Remove"></a>
			</div>

			<div class="right">
				<a href="#393" title="Edit name" data-action="edit" class="action edit"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Edit name"></a>
			</div>

			<div class="right">
				<a href="#playlist:393:mp3" title="Download" data-action="download" class="action downloadable queue"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Edit name"></a>
			</div>

			<div class="left name">
				{{ object.name }}
			</div>
			<div class="clear"></div>
		</div>

		<div class="panel">

			<div class="edit">
				<div class="hint">
					Enter the new name for the basket
				</div>
				<div class="input">
					<input type="text" id="playlist_edit_name_{{ object.id }}" name="playlist_edit_name" value="{{ object.name }}">
				</div>
			</div>

			<div class="convert">
				<a href="{{ object.edit_url }}">Convert</a>
				<a href="{{ object.absolute_url }}">Detail</a>
			</div>
			<div class="duration">
				{{ object.duration }}
			</div>
		</div>

		<div class="list">
			
			{{#object.items}}
			
			<div class="list_item">
				<div class="right">
					<a href="#393:3884" title="Remove" class="action delete"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Remove"></a>
				</div>
				<div class="left">
					<a href="http://openbroadcast.ch/en/content/library/playlists/393-session/play.json#0#replace" title="Play" class="action play playable popup"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Play"></a>
				</div>
				<div class="left title">
					<a href="{{ item.content_object.absolute_url }}" title="Mobilize">{{ item.content_object.name }}</a>
				</div>
				<div class="clear"></div>
			</div>
			
			{{/object.items}}
			
			{{#object.media}}
			<!--
			<div class="list_item">
				<div class="right">
					<a href="#393:3884" title="Remove" class="action delete"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Remove"></a>
				</div>
				<div class="left">
					<a href="http://openbroadcast.ch/en/content/library/playlists/393-session/play.json#0#replace" title="Play" class="action play playable popup"><img src="http://openbroadcast.ch//media/img/base/spacer.png" width="16" height="16" alt="Play"></a>
				</div>
				<div class="left title">
					<a href="http://openbroadcast.ch/en/content/library/media/3884-mobilize/detail.html" title="Mobilize">{{ media.name }}</a>
				</div>
				<div class="clear"></div>
			</div>
			-->
			{{/object.media}}
			
		</div>

	</div>
			
</script>
{% endverbatim %}


{% endaddtoblock %}





<div id="inline_playlist_container" class="">
	
	<div class="playlist basket ui-persistent open" data-uistate="init" id="playlist_basket">

		<div class="header">
			<span>{% trans "Playlist Basket" %}</span>
			<span style="float: right;"> <span style="color: rgb(153, 153, 153);" class="opt">1</span> </span>
		</div>

		<!-- Wrapper, can hold multiple lists  -->
		<div id="inline_playlist_holder" class="wrapper"></div>

		<!-- Selector to choose default playlist -->

		<div class="settings">
		
				
			<form class="form-inline create">
				
			  <div class="control-group">
			    <label class="control-label" for="">{% trans "Default Basket" %}:</label>
			    <div class="controls">
			      <input type="text" class="full-width name" placeholder="{% trans "Basket Name" %}:">
			    </div>
			  </div>
			  
			  <div class="control-group">
			    <label class="control-label" for="">{% trans "New Basket" %}:</label>
			    <div class="controls">
			      <input type="text" class="full-width name" placeholder="{% trans "Basket Name" %}:">
			    </div>
			  </div>
			  <div class="control-group">
			    <div class="controls pull-right">
			      <button type="submit" class="btn btn-primary btn-mini">{% trans "Go" %}</button>
			    </div>
			  </div>
			  <div class="clearfix"></div>
			</form>

		</div>

	</div>
	
</div>